<div class="container mx-auto px-4 py-6">

  <h2 class="text-3xl font-bold text-heading mb-6">Hoteles disponibles</h2>

  <!-- Loading spinner -->
  @if (loading()) {
    <div class="flex justify-center items-center py-20">
      <div class="animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"></div>
      <span class="ml-4 text-gray-600">Cargando hoteles...</span>
    </div>
  } @else {
    <!-- Si no hay hoteles -->
    @if (hoteles().length === 0) {
      <p class="text-center text-gray-500 text-lg py-10">
        No hay hoteles registrados.
      </p>
    } @else {
      <!-- Grid de hoteles -->
      <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">

        @for (hotel of hoteles(); track hotel.id) {
          <div class="bg-neutral-primary-soft block border border-default rounded-base shadow-xs">

        <!-- Imagen -->
        <a [routerLink]="['/hotel', hotel.id]">
          <div class="rounded-t-base w-full h-48 bg-gradient-to-br from-gray-300 to-gray-400 flex items-center justify-center overflow-hidden relative">
            @if (hotel.imagenUrl) {
              <img
                class="w-full h-full object-cover"
                [src]="hotel.imagenUrl"
                [alt]="hotel.nombre"
                loading="lazy"
                (error)="$event.target.style.display='none'"
              />
            }
            <!-- Placeholder SVG si no hay imagen o falló -->
            @if (!hotel.imagenUrl) {
              <svg class="w-12 h-12 text-gray-500" fill="currentColor" viewBox="0 0 24 24">
                <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm3.5-9c.83 0 1.5-.67 1.5-1.5S16.33 8 15.5 8 14 8.67 14 9.5s.67 1.5 1.5 1.5zm-7 0c.83 0 1.5-.67 1.5-1.5S9.33 8 8.5 8 7 8.67 7 9.5 7.67 11 8.5 11zm3.5 6.5c2.33 0 4.31-1.46 5.11-3.5H6.89c.8 2.04 2.78 3.5 5.11 3.5z"/>
              </svg>
            }
          </div>
        </a>

        <div class="p-6 text-center">

          <!-- Etiqueta -->
          <span
            class="inline-flex items-center bg-brand-softer border border-brand-subtle
                   text-fg-brand-strong text-xs font-medium px-1.5 py-0.5 rounded-sm"
          >
            {{ hotel.departamento.nombre }}
          </span>

          <!-- Nombre -->
          <a [routerLink]="['/hotel', hotel.id]">
            <h5 class="mt-3 mb-6 text-2xl font-semibold tracking-tight text-heading">
              {{ hotel.nombre }}
            </h5>
          </a>

          <!-- Dirección -->
          <p class="text-gray-600 mb-4 text-sm">
            {{ hotel.direccion }}
          </p>

          <!-- Botón -->
          <a
            [routerLink]="['/hotel', hotel.id]"
            class="inline-flex items-center text-white bg-brand box-border border border-transparent
                   hover:bg-brand-strong focus:ring-4 focus:ring-brand-medium shadow-xs
                   font-medium leading-5 rounded-base text-sm px-4 py-2.5 focus:outline-none"
          >
            Ver detalles
            <svg
              class="w-4 h-4 ms-1.5 rtl:rotate-180 -me-0.5"
              aria-hidden="true"
              xmlns="http://www.w3.org/2000/svg"
              width="24"
              height="24"
              fill="none"
              viewBox="0 0 24 24"
            >
              <path
                stroke="currentColor"
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M19 12H5m14 0-4 4m4-4-4-4"
              />
            </svg>
          </a>

          <!-- habitaciones omitidas -->
          <!-- hotel.habitaciones?.length -->

        </div>
      </div>
    }

      </div>
    }
  }
</div>

